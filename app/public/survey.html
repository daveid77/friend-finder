<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="robots" content="noindex,nofollow">
  <link rel="icon" type="image/png" href="favicon.ico"/>
  <title>Friend Finder :: David Morse</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <style>
    /*input[type="url"]:invalid {
      background-color: pink;
    }*/
  </style>

</head>
<body>

  <!-- MODAL OVERLAY -->
  <div id="friend-finder-match" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Your Best Match</h4>
        </div>
        <div class="modal-body">
          <h3 style="margin-top: 0;"><span id="match-name">Barbara Harris</span></h3>
          <div style="width: 500px; height: 300px; overflow: hidden;">
            <img src="http://images6.fanpop.com/image/photos/33200000/Freaky-Friday-1976-classic-movies-33202690-475-258.jpg" style="width: 500px; height: auto;">
          </div>
          <!-- <p>As soon as we work out the kinks in the time machine, we'll set up an appointment for the two of you to hang out in the time period photographed.</p> -->
        </div>
      </div>

    </div>
  </div>

  <!-- MAIN PAGE CONTENT AND FORM -->
  <div class="container">
    <div class="row">
      <div class="col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2">

        <a href="#" data-toggle="modal" data-target="#friend-finder-match">Modal Link</a>

        <div class="jumbotron">
          <h2>Survey</h2>
          
          <p>Help Us Find Your Ideal Time Machine Movie Star</p>

          <hr noshade style="border-color: #999;">

          <form role="form">
            <div class="form-group">
              <label for="name">Name (Required)</label>
              <input type="text" class="form-control" id="name" placeholder="Enter name" value="david" required>
            </div>
            <div class="form-group">
              <label for="photo-link">Link to Photo (Required)</label>
              <input type="url" class="form-control" id="photo-link" placeholder="Enter photo URL" value="https://pbs.twimg.com/profile_images/846504681291460609/5f-LaW8I_400x400.jpg" required>
            </div>

            <hr noshade style="border-color: #999;">

            <div class="form-group">
              <h4>Question 1:</h4>
              <label for="question1">You are more of a thinker than a doer.</label>
              <select id="question1" class="form-control" required>
                <option value="">Choose One</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3" selected>3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group">
              <h4>Question 2:</h4>
              <label for="question2">It's more important to be funny than right.</label>
              <select id="question2" class="form-control" required>
                <option value="">Choose One</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4" selected>4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group">
              <h4>Question 3:</h4>
              <label for="question3">Giving is better than receiving.</label>
              <select id="question3" class="form-control" required>
                <option value="">Choose One</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4" selected>4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group">
              <h4>Question 4:</h4>
              <label for="question4">Time alone is a good thing.</label>
              <select id="question4" class="form-control" required>
                <option value="">Choose One</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5" selected>5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group">
              <h4>Question 5:</h4>
              <label for="question5">Cleanliness is next to godliness.</label>
              <select id="question5" class="form-control" required>
                <option value="">Choose One</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5" selected>5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group">
              <h4>Question 6:</h4>
              <label for="question6">We can be most cruel when we feel bad about ourselves.</label>
              <select id="question6" class="form-control" required>
                <option value="">Choose One</option>
                <option value="1" selected>1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group">
              <h4>Question 7:</h4>
              <label for="question7">Movie stars are the most important people.</label>
              <select id="question7" class="form-control" required>
                <option value="">Choose One</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2" selected>2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group">
              <h4>Question 8:</h4>
              <label for="question8">You have to get along to go along.</label>
              <select id="question8" class="form-control" required>
                <option value="">Choose One</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3" selected>3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group">
              <h4>Question 9:</h4>
              <label for="question9">Anger is a gift.</label>
              <select id="question9" class="form-control" required>
                <option value="">Choose One</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4" selected>4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group">
              <h4>Question 10:</h4>
              <label for="question10">Non-human animals are better to befriend than eat.</label>
              <select id="question10" class="form-control" required>
                <option value="">Choose One</option>
                <option value="1" selected>1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
              </select>
            </div>

            <hr noshade style="border-color: #999;">

            <button type="submit" class="btn btn-primary submit">
              <span class="glyphicon glyphicon-ok-circle"></span>
              Submit
            </button>
          </form>

        </div>
      </div>
    </div>

  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2">
          <p>
            <a href="/">Home</a> | 
            <a href="/api/friends">API Friends List</a> | 
            <a href="https://github.com/dbmarshall/friend-finder">GitHub Repo</a>
          </p>
        </div>
      </div>
    </div>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <script type="text/javascript">

    $('.submit').on('click', function(event) {
      event.preventDefault();

      var newScores = [];
      $('select').each(function() {
        newScores.push(parseInt($(this).val()));
      });
      console.log('scores', newScores);

      var newUser = {
        name: $("#name").val().trim(),
        photoLink: $("#photo-link").val().trim(),
        scores: JSON.stringify(newScores)
      };

        console.log('var newUser: ', newUser);

      $.post("/api/friends", newUser, function(data) {

          console.log(res.json(true)); 

          console.log('POST newUser: ', newUser);

          console.log('data: ', data);

          alert('this is not alerting :-(');

        });

      $('#name').val('');
      $('#photo-link').val('');
      $('select').prop('selectedIndex','');

    });

  </script>

</body>
</html>